// Copyright (c) Six Labors.
// Licensed under the Six Labors Split License.

using System;

namespace SixLabors.ImageSharp.Formats.Heif.Av1.Symbol;

internal static class Av1DefaultDistributions
{
    public static Av1Distribution[] FrameYMode =>
        [
            new(22801, 23489, 24293, 24756, 25601, 26123, 26606, 27418, 27945, 29228, 29685, 30349),
            new(18673, 19845, 22631, 23318, 23950, 24649, 25527, 27364, 28152, 29701, 29984, 30852),
            new(19770, 20979, 23396, 23939, 24241, 24654, 25136, 27073, 27830, 29360, 29730, 30659),
            new(20155, 21301, 22838, 23178, 23261, 23533, 23703, 24804, 25352, 26575, 27016, 28049)
        ];

    public static Av1Distribution[][] FilterYMode =>
    [
        [
            new(15588, 17027, 19338, 20218, 20682, 21110, 21825, 23244, 24189, 28165, 29093, 30466),
            new(12016, 18066, 19516, 20303, 20719, 21444, 21888, 23032, 24434, 28658, 30172, 31409),
            new(10052, 10771, 22296, 22788, 23055, 23239, 24133, 25620, 26160, 29336, 29929, 31567),
            new(14091, 15406, 16442, 18808, 19136, 19546, 19998, 22096, 24746, 29585, 30958, 32462),
            new(12122, 13265, 15603, 16501, 18609, 20033, 22391, 25583, 26437, 30261, 31073, 32475)
        ], [
            new(10023, 19585, 20848, 21440, 21832, 22760, 23089, 24023, 25381, 29014, 30482, 31436),
            new(5983, 24099, 24560, 24886, 25066, 25795, 25913, 26423, 27610, 29905, 31276, 31794),
            new(7444, 12781, 20177, 20728, 21077, 21607, 22170, 23405, 24469, 27915, 29090, 30492),
            new(8537, 14689, 15432, 17087, 17408, 18172, 18408, 19825, 24649, 29153, 31096, 32210),
            new(7543, 14231, 15496, 16195, 17905, 20717, 21984, 24516, 26001, 29675, 30981, 31994)
        ], [
            new(12613, 13591, 21383, 22004, 22312, 22577, 23401, 25055, 25729, 29538, 30305, 32077),
            new(9687, 13470, 18506, 19230, 19604, 20147, 20695, 22062, 23219, 27743, 29211, 30907),
            new(6183, 6505, 26024, 26252, 26366, 26434, 27082, 28354, 28555, 30467, 30794, 32086),
            new(10718, 11734, 14954, 17224, 17565, 17924, 18561, 21523, 23878, 28975, 30287, 32252),
            new(9194, 9858, 16501, 17263, 18424, 19171, 21563, 25961, 26561, 30072, 30737, 32463)
        ], [
            new(12602, 14399, 15488, 18381, 18778, 19315, 19724, 21419, 25060, 29696, 30917, 32409),
            new(8203, 13821, 14524, 17105, 17439, 18131, 18404, 19468, 25225, 29485, 31158, 32342),
            new(8451, 9731, 15004, 17643, 18012, 18425, 19070, 21538, 24605, 29118, 30078, 32018),
            new(7714, 9048, 9516, 16667, 16817, 16994, 17153, 18767, 26743, 30389, 31536, 32528),
            new(8843, 10280, 11496, 15317, 16652, 17943, 19108, 22718, 25769, 29953, 30983, 32485)
        ], [
            new(12578, 13671, 15979, 16834, 19075, 20913, 22989, 25449, 26219, 30214, 31150, 32477),
            new(9563, 13626, 15080, 15892, 17756, 20863, 22207, 24236, 25380, 29653, 31143, 32277),
            new(8356, 8901, 17616, 18256, 19350, 20106, 22598, 25947, 26466, 29900, 30523, 32261),
            new(10835, 11815, 13124, 16042, 17018, 18039, 18947, 22753, 24615, 29489, 30883, 32482),
            new(7618, 8288, 9859, 10509, 15386, 18657, 22903, 28776, 29180, 31355, 31802, 32593)
        ]
    ];

    public static Av1Distribution[][] UvMode =>
        [
            [
                new(22631, 24152, 25378, 25661, 25986, 26520, 27055, 27923, 28244, 30059, 30941, 31961),
                new(9513, 26881, 26973, 27046, 27118, 27664, 27739, 27824, 28359, 29505, 29800, 31796),
                new(9845, 9915, 28663, 28704, 28757, 28780, 29198, 29822, 29854, 30764, 31777, 32029),
                new(13639, 13897, 14171, 25331, 25606, 25727, 25953, 27148, 28577, 30612, 31355, 32493),
                new(9764, 9835, 9930, 9954, 25386, 27053, 27958, 28148, 28243, 31101, 31744, 32363),
                new(11825, 13589, 13677, 13720, 15048, 29213, 29301, 29458, 29711, 31161, 31441, 32550),
                new(14175, 14399, 16608, 16821, 17718, 17775, 28551, 30200, 30245, 31837, 32342, 32667),
                new(12885, 13038, 14978, 15590, 15673, 15748, 16176, 29128, 29267, 30643, 31961, 32461),
                new(12026, 13661, 13874, 15305, 15490, 15726, 15995, 16273, 28443, 30388, 30767, 32416),
                new(19052, 19840, 20579, 20916, 21150, 21467, 21885, 22719, 23174, 28861, 30379, 32175),
                new(18627, 19649, 20974, 21219, 21492, 21816, 22199, 23119, 23527, 27053, 31397, 32148),
                new(17026, 19004, 19997, 20339, 20586, 21103, 21349, 21907, 22482, 25896, 26541, 31819),
                new(12124, 13759, 14959, 14992, 15007, 15051, 15078, 15166, 15255, 15753, 16039, 16606)
            ], [
                new(10407, 11208, 12900, 13181, 13823, 14175, 14899, 15656, 15986, 20086, 20995, 22455, 24212),
                new(4532, 19780, 20057, 20215, 20428, 21071, 21199, 21451, 22099, 24228, 24693, 27032, 29472),
                new(5273, 5379, 20177, 20270, 20385, 20439, 20949, 21695, 21774, 23138, 24256, 24703, 26679),
                new(6740, 7167, 7662, 14152, 14536, 14785, 15034, 16741, 18371, 21520, 22206, 23389, 24182),
                new(4987, 5368, 5928, 6068, 19114, 20315, 21857, 22253, 22411, 24911, 25380, 26027, 26376),
                new(5370, 6889, 7247, 7393, 9498, 21114, 21402, 21753, 21981, 24780, 25386, 26517, 27176),
                new(4816, 4961, 7204, 7326, 8765, 8930, 20169, 20682, 20803, 23188, 23763, 24455, 24940),
                new(6608, 6740, 8529, 9049, 9257, 9356, 9735, 18827, 19059, 22336, 23204, 23964, 24793),
                new(5998, 7419, 7781, 8933, 9255, 9549, 9753, 10417, 18898, 22494, 23139, 24764, 25989),
                new(10660, 11298, 12550, 12957, 13322, 13624, 14040, 15004, 15534, 20714, 21789, 23443, 24861),
                new(10522, 11530, 12552, 12963, 13378, 13779, 14245, 15235, 15902, 20102, 22696, 23774, 25838),
                new(10099, 10691, 12639, 13049, 13386, 13665, 14125, 15163, 15636, 19676, 20474, 23519, 25208),
                new(3144, 5087, 7382, 7504, 7593, 7690, 7801, 8064, 8232, 9248, 9875, 10521, 29048)
            ]
        ];

    public static Av1Distribution[] AngleDelta =>
        [
            new(2180, 5032, 7567, 22776, 26989, 30217),
            new(2301, 5608, 8801, 23487, 26974, 30330),
            new(3780, 11018, 13699, 19354, 23083, 31286),
            new(4581, 11226, 15147, 17138, 21834, 28397),
            new(1737, 10927, 14509, 19588, 22745, 28823),
            new(2664, 10176, 12485, 17650, 21600, 30495),
            new(2240, 11096, 15453, 20341, 22561, 28917),
            new(3605, 10428, 12459, 17676, 21244, 30655)
        ];

    public static Av1Distribution IntraBlockCopy => new(30531);

    public static Av1Distribution[] PartitionTypes =>
        [
            new(19132, 25510, 30392),
            new(13928, 19855, 28540),
            new(12522, 23679, 28629),
            new(9896, 18783, 25853),
            new(15597, 20929, 24571, 26706, 27664, 28821, 29601, 30571, 31902),
            new(7925, 11043, 16785, 22470, 23971, 25043, 26651, 28701, 29834),
            new(5414, 13269, 15111, 20488, 22360, 24500, 25537, 26336, 32117),
            new(2662, 6362, 8614, 20860, 23053, 24778, 26436, 27829, 31171),
            new(18462, 20920, 23124, 27647, 28227, 29049, 29519, 30178, 31544),
            new(7689, 9060, 12056, 24992, 25660, 26182, 26951, 28041, 29052),
            new(6015, 9009, 10062, 24544, 25409, 26545, 27071, 27526, 32047),
            new(1394, 2208, 2796, 28614, 29061, 29466, 29840, 30185, 31899),
            new(20137, 21547, 23078, 29566, 29837, 30261, 30524, 30892, 31724),
            new(6732, 7490, 9497, 27944, 28250, 28515, 28969, 29630, 30104),
            new(5945, 7663, 8348, 28683, 29117, 29749, 30064, 30298, 32238),
            new(870, 1212, 1487, 31198, 31394, 31574, 31743, 31881, 32332),
            new(27899, 28219, 28529, 32484, 32539, 32619, 32639),
            new(6607, 6990, 8268, 32060, 32219, 32338, 32371),
            new(5429, 6676, 7122, 32027, 32227, 32531, 32582),
            new(711, 966, 1172, 32448, 32538, 32617, 32664)
        ];

    public static Av1Distribution[] Skip => [new(31671), new(16515), new(4576)];

    public static Av1Distribution DeltaLoopFilterAbsolute => new(28160, 32120, 32677);

    public static Av1Distribution DeltaQuantizerAbsolute => new(28160, 32120, 32677);

    public static Av1Distribution[] SegmentId => [new(128 * 128), new(128 * 128), new(128 * 128)];

    public static Av1Distribution[][] KeyFrameYMode =>
        [
            [
                new(15588, 17027, 19338, 20218, 20682, 21110, 21825, 23244, 24189, 28165, 29093, 30466),
                new(12016, 18066, 19516, 20303, 20719, 21444, 21888, 23032, 24434, 28658, 30172, 31409),
                new(10052, 10771, 22296, 22788, 23055, 23239, 24133, 25620, 26160, 29336, 29929, 31567),
                new(14091, 15406, 16442, 18808, 19136, 19546, 19998, 22096, 24746, 29585, 30958, 32462),
                new(12122, 13265, 15603, 16501, 18609, 20033, 22391, 25583, 26437, 30261, 31073, 32475),
            ], [
                new(10023, 19585, 20848, 21440, 21832, 22760, 23089, 24023, 25381, 29014, 30482, 31436),
                new(5983, 24099, 24560, 24886, 25066, 25795, 25913, 26423, 27610, 29905, 31276, 31794),
                new(7444, 12781, 20177, 20728, 21077, 21607, 22170, 23405, 24469, 27915, 29090, 30492),
                new(8537, 14689, 15432, 17087, 17408, 18172, 18408, 19825, 24649, 29153, 31096, 32210),
                new(7543, 14231, 15496, 16195, 17905, 20717, 21984, 24516, 26001, 29675, 30981, 31994)
            ], [
                new(12613, 13591, 21383, 22004, 22312, 22577, 23401, 25055, 25729, 29538, 30305, 32077),
                new(9687, 13470, 18506, 19230, 19604, 20147, 20695, 22062, 23219, 27743, 29211, 30907),
                new(6183, 6505, 26024, 26252, 26366, 26434, 27082, 28354, 28555, 30467, 30794, 32086),
                new(10718, 11734, 14954, 17224, 17565, 17924, 18561, 21523, 23878, 28975, 30287, 32252),
                new(9194, 9858, 16501, 17263, 18424, 19171, 21563, 25961, 26561, 30072, 30737, 32463)
            ], [
                new(12602, 14399, 15488, 18381, 18778, 19315, 19724, 21419, 25060, 29696, 30917, 32409),
                new(8203, 13821, 14524, 17105, 17439, 18131, 18404, 19468, 25225, 29485, 31158, 32342),
                new(8451, 9731, 15004, 17643, 18012, 18425, 19070, 21538, 24605, 29118, 30078, 32018),
                new(7714, 9048, 9516, 16667, 16817, 16994, 17153, 18767, 26743, 30389, 31536, 32528),
                new(8843, 10280, 11496, 15317, 16652, 17943, 19108, 22718, 25769, 29953, 30983, 32485)
            ], [
                new(12578, 13671, 15979, 16834, 19075, 20913, 22989, 25449, 26219, 30214, 31150, 32477),
                new(9563, 13626, 15080, 15892, 17756, 20863, 22207, 24236, 25380, 29653, 31143, 32277),
                new(8356, 8901, 17616, 18256, 19350, 20106, 22598, 25947, 26466, 29900, 30523, 32261),
                new(10835, 11815, 13124, 16042, 17018, 18039, 18947, 22753, 24615, 29489, 30883, 32482),
                new(7618, 8288, 9859, 10509, 15386, 18657, 22903, 28776, 29180, 31355, 31802, 32593)
            ]
        ];

    public static Av1Distribution FilterIntraMode => new(8949, 12776, 17211, 29558);

    public static Av1Distribution[] FilterIntra =>
        [
            new(4621), new(6743), new(5893), new(7866), new(12551), new(9394),
            new(12408), new(14301), new(12756), new(22343), new(16384), new(16384),
            new(16384), new(16384), new(16384), new(16384), new(12770), new(10368),
            new(20229), new(18101), new(16384), new(16384)
        ];

    public static Av1Distribution[][] TransformSize =>
        [
            [new(19968), new(19968), new(24320)],
            [new(12272, 30172), new(12272, 30172), new(18677, 30848)],
            [new(12986, 15180), new(12986, 15180), new(24302, 25602)],
            [new(5782, 11475), new(5782, 11475), new(16803, 22759)],
        ];

    private static Av1Distribution[][][] EndOfBlockFlagMulti16 =>
        [
            [
                [new(840, 1039, 1980, 4895), new(370, 671, 1883, 4471)],
                [new(3247, 4950, 9688, 14563), new(1904, 3354, 7763, 14647)]
            ],
            [
                [new(2125, 2551, 5165, 8946), new(513, 765, 1859, 6339)],
                [new(7637, 9498, 14259, 19108), new(2497, 4096, 8866, 16993)]
            ],
            [
                [new(4016, 4897, 8881, 14968), new(716, 1105, 2646, 10056)],
                [new(11139, 13270, 18241, 23566), new(3192, 5032, 10297, 19755)]
            ],
            [
                [new(6708, 8958, 14746, 22133), new(1222, 2074, 4783, 15410)],
                [new(19575, 21766, 26044, 29709), new(7297, 10767, 19273, 28194)]
            ]
        ];

    private static Av1Distribution[][][] EndOfBlockFlagMulti32 =>
        [
            [
                [new(400, 520, 977, 2102, 6542), new(210, 405, 1315, 3326, 7537)],
                [new(2636, 4273, 7588, 11794, 20401), new(1786, 3179, 6902, 11357, 19054)]
            ],
            [
                [new(989, 1249, 2019, 4151, 10785), new(313, 441, 1099, 2917, 8562)],
                [new(8394, 10352, 13932, 18855, 26014), new(2578, 4124, 8181, 13670, 24234)]
            ],
            [
                [new(2515, 3003, 4452, 8162, 16041), new(574, 821, 1836, 5089, 13128)],
                [new(13468, 16303, 20361, 25105, 29281), new(3542, 5502, 10415, 16760, 25644)]
            ],
            [
                [new(4617, 5709, 8446, 13584, 23135), new(1156, 1702, 3675, 9274, 20539)],
                [new(22086, 24282, 27010, 29770, 31743), new(7699, 10897, 20891, 26926, 31628)]
            ]
        ];

    private static Av1Distribution[][][] EndOfBlockFlagMulti64 =>
        [
            [
                [new(329, 498, 1101, 1784, 3265, 7758), new(335, 730, 1459, 5494, 8755, 12997)],
                [new(3505, 5304, 10086, 13814, 17684, 23370), new(1563, 2700, 4876, 10911, 14706, 22480)],
            ],
            [
                [new(1260, 1446, 2253, 3712, 6652, 13369), new(401, 605, 1029, 2563, 5845, 12626)],
                [new(8609, 10612, 14624, 18714, 22614, 29024), new(1923, 3127, 5867, 9703, 14277, 27100)]
            ],
            [
                [new(2374, 2772, 4583, 7276, 12288, 19706), new(497, 810, 1315, 3000, 7004, 15641)],
                [new(15050, 17126, 21410, 24886, 28156, 30726), new(4034, 6290, 10235, 14982, 21214, 28491)]
            ],
            [
                [new(6307, 7541, 12060, 16358, 22553, 27865), new(1289, 2320, 3971, 7926, 14153, 24291)],
                [new(24212, 25708, 28268, 30035, 31307, 32049), new(8726, 12378, 19409, 26450, 30038, 32462)]
            ]
        ];

    private static Av1Distribution[][][] EndOfBlockFlagMulti128 =>
        [
            [
                [new(219, 482, 1140, 2091, 3680, 6028, 12586), new(371, 699, 1254, 4830, 9479, 12562, 17497)],
                [new(5245, 7456, 12880, 15852, 20033, 23932, 27608), new(2054, 3472, 5869, 14232, 18242, 20590, 26752)]
            ],
            [
                [new(685, 933, 1488, 2714, 4766, 8562, 19254), new(217, 352, 618, 2303, 5261, 9969, 17472)],
                [new(8045, 11200, 15497, 19595, 23948, 27408, 30938), new(2310, 4160, 7471, 14997, 17931, 20768, 30240)]
            ],
            [
                [new(1366, 1738, 2527, 5016, 9355, 15797, 24643), new(354, 558, 944, 2760, 7287, 14037, 21779)],
                [new(13627, 16246, 20173, 24429, 27948, 30415, 31863), new(6275, 9889, 14769, 23164, 27988, 30493, 32272)]
            ],
            [
                [new(3472, 4885, 7489, 12481, 18517, 24536, 29635), new(886, 1731, 3271, 8469, 15569, 22126, 28383)],
                [new(24313, 26062, 28385, 30107, 31217, 31898, 32345), new(9165, 13282, 21150, 30286, 31894, 32571, 32712)]
            ]
        ];

    private static Av1Distribution[][][] EndOfBlockFlagMulti256 =>
        [
            [
                [
                    new(310, 584, 1887, 3589, 6168, 8611, 11352, 15652),
                    new(998, 1850, 2998, 5604, 17341, 19888, 22899, 25583),
                ],
                [
                    new(2520, 3240, 5952, 8870, 12577, 17558, 19954, 24168),
                    new(2203, 4130, 7435, 10739, 20652, 23681, 25609, 27261)
                ],
            ],
            [
                [
                    new(1448, 2109, 4151, 6263, 9329, 13260, 17944, 23300),
                    new(399, 1019, 1749, 3038, 10444, 15546, 22739, 27294)
                ],
                [
                    new(6402, 8148, 12623, 15072, 18728, 22847, 26447, 29377),
                    new(1674, 3252, 5734, 10159, 22397, 23802, 24821, 30940)
                ]
            ],
            [
                [
                    new(3089, 3920, 6038, 9460, 14266, 19881, 25766, 29176),
                    new(1084, 2358, 3488, 5122, 11483, 18103, 26023, 29799)
                ],
                [
                    new(11514, 13794, 17480, 20754, 24361, 27378, 29492, 31277),
                    new(6571, 9610, 15516, 21826, 29092, 30829, 31842, 32708)
                ]
            ],
            [
                [
                    new(5348, 7113, 11820, 15924, 22106, 26777, 30334, 31757),
                    new(2453, 4474, 6307, 8777, 16474, 22975, 29000, 31547)
                ],
                [
                    new(23110, 24597, 27140, 28894, 30167, 30927, 31392, 32094),
                    new(9998, 17661, 25178, 28097, 31308, 32038, 32403, 32695)
                ]
            ]
        ];

    private static Av1Distribution[][][] EndOfBlockFlagMulti512 =>
        [
            [
                [
                    new(641, 983, 3707, 5430, 10234, 14958, 18788, 23412, 26061),
                    new(3277, 6554, 9830, 13107, 16384, 19661, 22938, 26214, 29491)
                ],
                [
                    new(5095, 6446, 9996, 13354, 16017, 17986, 20919, 26129, 29140),
                    new(3277, 6554, 9830, 13107, 16384, 19661, 22938, 26214, 29491)
                ]
            ],
            [
                [
                    new(1230, 2278, 5035, 7776, 11871, 15346, 19590, 24584, 28749),
                    new(3277, 6554, 9830, 13107, 16384, 19661, 22938, 26214, 29491)
                ],
                [
                    new(7265, 9979, 15819, 19250, 21780, 23846, 26478, 28396, 31811),
                    new(3277, 6554, 9830, 13107, 16384, 19661, 22938, 26214, 29491)
                ]
            ],
            [
                [
                    new(2624, 3936, 6480, 9686, 13979, 17726, 23267, 28410, 31078),
                    new(3277, 6554, 9830, 13107, 16384, 19661, 22938, 26214, 29491)
                ],
                [
                    new(12015, 14769, 19588, 22052, 24222, 25812, 27300, 29219, 32114),
                    new(3277, 6554, 9830, 13107, 16384, 19661, 22938, 26214, 29491)
                ]
            ],
            [
                [
                    new(5927, 7809, 10923, 14597, 19439, 24135, 28456, 31142, 32060),
                    new(3277, 6554, 9830, 13107, 16384, 19661, 22938, 26214, 29491)
                ],
                [
                    new(21093, 23043, 25742, 27658, 29097, 29716, 30073, 30820, 31956),
                    new(3277, 6554, 9830, 13107, 16384, 19661, 22938, 26214, 29491)
                ]
            ]
        ];

    private static Av1Distribution[][][] EndOfBlockFlagMulti1024 =>
        [
            [
                [
                    new(393, 421, 751, 1623, 3160, 6352, 13345, 18047, 22571, 25830),
                    new(2979, 5958, 8937, 11916, 14895, 17873, 20852, 23831, 26810, 29789)
                ],
                [
                    new(1865, 1988, 2930, 4242, 10533, 16538, 21354, 27255, 28546, 31784),
                    new(2979, 5958, 8937, 11916, 14895, 17873, 20852, 23831, 26810, 29789)
                ]
            ],
            [
                [
                    new(696, 948, 3145, 5702, 9706, 13217, 17851, 21856, 25692, 28034),
                    new(2979, 5958, 8937, 11916, 14895, 17873, 20852, 23831, 26810, 29789)
                ],
                [
                    new(2672, 3591, 9330, 17084, 22725, 24284, 26527, 28027, 28377, 30876),
                    new(2979, 5958, 8937, 11916, 14895, 17873, 20852, 23831, 26810, 29789)
                ]
            ],
            [
                [
                    new(2784, 3831, 7041, 10521, 14847, 18844, 23155, 26682, 29229, 31045),
                    new(2979, 5958, 8937, 11916, 14895, 17873, 20852, 23831, 26810, 29789)
                ],
                [
                    new(9577, 12466, 17739, 20750, 22061, 23215, 24601, 25483, 25843, 32056),
                    new(2979, 5958, 8937, 11916, 14895, 17873, 20852, 23831, 26810, 29789)
                ]
            ],
            [
                [
                    new(6698, 8334, 11961, 15762, 20186, 23862, 27434, 29326, 31082, 32050),
                    new(2979, 5958, 8937, 11916, 14895, 17873, 20852, 23831, 26810, 29789)
                ],
                [
                    new(20569, 22426, 25569, 26859, 28053, 28913, 29486, 29724, 29807, 32570),
                    new(2979, 5958, 8937, 11916, 14895, 17873, 20852, 23831, 26810, 29789)
                ]
            ]
        ];

    public static Av1Distribution[][][] GetEndOfBlockFlag(int baseQIndex)
    {
        int qContext = GetQContext(baseQIndex);
        return
            [
                EndOfBlockFlagMulti16[qContext],
                EndOfBlockFlagMulti32[qContext],
                EndOfBlockFlagMulti64[qContext],
                EndOfBlockFlagMulti128[qContext],
                EndOfBlockFlagMulti256[qContext],
                EndOfBlockFlagMulti512[qContext],
                EndOfBlockFlagMulti1024[qContext],
            ];
    }

    private static int GetQContext(int q)
    {
        if (q <= 20)
        {
            return 0;
        }

        if (q <= 60)
        {
            return 1;
        }

        if (q <= 120)
        {
            return 2;
        }

        return 3;
    }
}
